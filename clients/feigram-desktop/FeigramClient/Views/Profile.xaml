<Page x:Class="FeigramClient.Views.Profile"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:FeigramClient.Resources"
        Title="Perfil - Feigram">

    <Page.Resources>
        <Style x:Key="RoundedHoverButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            CornerRadius="10"
                            Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Left"
                                          VerticalAlignment="Center"
                                          Margin="{TemplateBinding Padding}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#ececed"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#ececed"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <conv:WidthToThirdConverter x:Key="WidthToThirdConverter"/>
    </Page.Resources>

    <DockPanel Background="#F0F2F5">
        <Grid Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="280"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="280"/>
            </Grid.ColumnDefinitions>

            <!-- Línea entre columna 0 y 1 -->
            <Border Grid.Column="0" HorizontalAlignment="Right" Width="1" Background="LightGray"/>

            <!-- Línea entre columna 1 y 2 -->
            <Border Grid.Column="1" HorizontalAlignment="Right" Width="1" Background="LightGray"/>

            <!-- COLUMNA IZQUIERDA - CONFIGURACIÓN -->
            <StackPanel Grid.Column="0" Margin="0">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,30">
                    <Image Source="/Resources/feigramlogo.png" Height="40" Width="40" Margin="0,0,10,0"/>
                    <TextBlock Text="Feigram"
                        Foreground="Black"
                        FontSize="24"
                        VerticalAlignment="Center"
                        FontWeight="Bold"/>
                </StackPanel>
                <Button Style="{StaticResource RoundedHoverButtonStyle}" Margin="0,5" Height="40" Padding="5,0"
                    HorizontalContentAlignment="Left">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Image Source="/Resources/hogar.png" Width="20" Height="20" Margin="0,0,10,0"/>
                        <TextBlock Text="Inicio"
                            VerticalAlignment="Center"
                            FontSize="14"
                            Foreground="Black"/>
                    </StackPanel>
                </Button>
                <Button Style="{StaticResource RoundedHoverButtonStyle}" Margin="0,5" Height="40" Padding="5,0"
                    HorizontalContentAlignment="Left">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Image Source="/Resources/usuario.png" Width="20" Height="20" Margin="0,0,10,0"/>
                        <TextBlock Text="Perfil"
                            VerticalAlignment="Center"
                            FontSize="14"
                            Foreground="Black"/>
                    </StackPanel>
                </Button>
                <Button Style="{StaticResource RoundedHoverButtonStyle}" Margin="0,5" Height="40" Padding="5,0"
                    HorizontalContentAlignment="Left">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Image Source="/Resources/paleta.png" Width="20" Height="20" Margin="0,0,10,0"/>
                        <TextBlock Text="Temas"
                            VerticalAlignment="Center"
                            FontSize="14"
                            Foreground="Black"/>
                    </StackPanel>
                </Button>
                <Button Style="{StaticResource RoundedHoverButtonStyle}" Margin="0,5" Height="40" Padding="5,0"
                    HorizontalContentAlignment="Left">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Image Source="/Resources/salida.png" Width="20" Height="20" Margin="0,0,10,0"/>
                        <TextBlock Text="Cerrar Sesión"
                            VerticalAlignment="Center"
                            FontSize="14"
                            Foreground="Black"/>
                    </StackPanel>
                </Button>
            </StackPanel>

            <!-- COLUMNA CENTRAL - INFORMACIÓN DEL PERFIL -->
            <StackPanel Grid.Column="1" Margin="20" VerticalAlignment="Top">

                <!-- SECCIÓN SUPERIOR: INFORMACIÓN DEL USUARIO CENTRADA -->
                <Border Background="White" Padding="20" CornerRadius="10" Margin="0,0,0,20">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <!-- Foto de perfil circular -->
                        <Ellipse Width="100" Height="100" Margin="0,0,0,10">
                            <Ellipse.Fill>
                                <ImageBrush ImageSource="/Resources/noprofile.png"/>
                            </Ellipse.Fill>
                        </Ellipse>

                        <!-- Información del usuario -->
                        <TextBlock Text="Nombre del Usuario" FontSize="20" FontWeight="Bold" Foreground="Black" TextAlignment="Center"/>
                        <TextBlock Text="Matrícula: 12345678" FontSize="14" Foreground="Gray" Margin="0,5,0,5" TextAlignment="Center"/>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,0">
                            <TextBlock Text="Seguidores: 120" FontSize="14" Foreground="Black" Margin="0,0,20,0"/>
                            <Button Content="Seguir" Background="#1877F2" Foreground="White" Padding="10,5" BorderThickness="0" Cursor="Hand"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- SECCIÓN INFERIOR - MATRIZ DE FOTOS DINÁMICA CON 3 COLUMNAS -->
                <Border Background="White" CornerRadius="10">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <ItemsControl>
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <!-- WrapPanel permite scroll y acomoda en columnas dinámicas -->
                                    <WrapPanel Orientation="Horizontal" />
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>

                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Margin="5" Width="{Binding RelativeSource={RelativeSource AncestorType=ScrollViewer}, Path=ViewportWidth, Converter={StaticResource WidthToThirdConverter}}">
                                        <Image Source="{Binding}" 
                               Stretch="UniformToFill" 
                               VerticalAlignment="Center" 
                               HorizontalAlignment="Center" 
                               ClipToBounds="True"/>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>

                            <!-- Tus imágenes aquí -->
                            <ItemsControl.Items>
                                <BitmapImage UriSource="/Resources/SelenaGomez.png"/>
                                <BitmapImage UriSource="/Resources/SelenaGomez.png"/>
                                <BitmapImage UriSource="/Resources/Selena.jpg"/>
                                <BitmapImage UriSource="/Resources/SelenaGomez.png"/>
                                <BitmapImage UriSource="/Resources/Selena.jpg"/>
                                <BitmapImage UriSource="/Resources/SelenaGomez.png"/>
                            </ItemsControl.Items>
                        </ItemsControl>
                    </ScrollViewer>
                </Border>
            </StackPanel>



            <!-- COLUMNA DERECHA - AMIGOS -->
            <StackPanel Grid.Column="2" Margin="10">
                <TextBlock Text="Amigos" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

                <Grid Height="40" Margin="0,0,0,10">
                    <Border Background="White" BorderBrush="#CCC" BorderThickness="1" CornerRadius="10" VerticalAlignment="Stretch">
                        <Grid>
                            <TextBox Margin="10,0,40,0" VerticalContentAlignment="Center" Background="Transparent" BorderThickness="0" FontSize="14" Foreground="Black" Height="40"/>
                        </Grid>
                    </Border>
                    <Image Source="/Resources/busqueda.png" Width="22" Height="22" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="5,0,5,0" Panel.ZIndex="1"/>
                </Grid>

                <ListBox BorderThickness="0" Background="Transparent">
                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem">
                            <Setter Property="Margin" Value="0,0,0,10"/>
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="Padding" Value="5"/>
                            <Setter Property="Cursor" Value="Hand"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ListBoxItem">
                                        <ContentPresenter />
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Setter Property="OverridesDefaultStyle" Value="True"/>
                        </Style>
                    </ListBox.ItemContainerStyle>

                    <ListBoxItem>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <Ellipse Width="35" Height="35" Margin="0,0,10,0">
                                <Ellipse.Fill>
                                    <ImageBrush ImageSource="/Resources/noprofile.png"/>
                                </Ellipse.Fill>
                            </Ellipse>
                            <TextBlock Text="Amigo 1" VerticalAlignment="Center" FontSize="14"/>
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <Ellipse Width="35" Height="35" Margin="0,0,10,0">
                                <Ellipse.Fill>
                                    <ImageBrush ImageSource="/Resources/noprofile.png"/>
                                </Ellipse.Fill>
                            </Ellipse>
                            <TextBlock Text="Amigo 2" VerticalAlignment="Center" FontSize="14"/>
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <Ellipse Width="35" Height="35" Margin="0,0,10,0">
                                <Ellipse.Fill>
                                    <ImageBrush ImageSource="/Resources/noprofile.png"/>
                                </Ellipse.Fill>
                            </Ellipse>
                            <TextBlock Text="Amigo 3" VerticalAlignment="Center" FontSize="14"/>
                        </StackPanel>
                    </ListBoxItem>
                </ListBox>
            </StackPanel>
        </Grid>
    </DockPanel>
</Page>
